{
    "dev1": {
        "app_function": "app.f",
        "aws_region": "us-east-1",
        "exclude": [
            "boto3",
            "dateutil",
            "botocore",
            "s3transfer",
            "concurrent"
        ],
        "profile_name": "default",
        "project_name": "Parcial",
        "runtime": "python3.10",
        "apigateway_enabled": false,
        "manage_roles": false,
        "role_name": "LabRole",
        "s3_bucket": "parcial-lambda1",  
        "events": [
            {
                "function": "app.f",
                "expression": "cron(25 17 * * ? *)"
            }
        ]
    },
    "dev2": {
        "app_function": "app.process_data",
        "aws_region": "us-east-1",
        "exclude": [
            "boto3",
            "dateutil",
            "botocore",
            "s3transfer",
            "concurrent"
        ],
        "profile_name": "default",
        "project_name": "Parcial",
        "runtime": "python3.10",
        "apigateway_enabled": false,
        "manage_roles": false,
        "role_name": "LabRole",
        "s3_bucket": "parcial-lambda2",  
        "events": [
            {
                "function": "app.process_data",
                "event_source": {
                    "arn": "arn:aws:s3:::parcial-lambda1",
                    "events": [
                        "s3:ObjectCreated:*"
                    ],
                    "key_filters": [
                        {
                            "type": "prefix",
                            "value": "headlines/raw/"
                        }
                    ]
                }
            }
        ]
    }
    "dev3": {
        "app_function": "cluster.lambda_handler", 
        "aws_region": "us-east-1",
        "timeout_seconds": 900,
        "memory_size": 1024,
        "exclude": [
            "boto3",
            "dateutil",
            "botocore",
            "s3transfer",
            "concurrent"
        ],
        "profile_name": "default",
        "project_name": "cluster",
        "runtime": "python3.9",
        "s3_bucket": "zappa-58",
        "keep_warm": false,
        "apigateway_enabled": false,
        "manage_roles": false,
        "role_name": "LabRole",
        "environment_variables": {
            "S3_BUCKET": "parcial-lambda3",
            "EMR_ROLE": "EMR_EC2_DefaultRole",
            "EMR_SERVICE_ROLE": "EMR_DefaultRole"
        },
         "policy": {
            "Version": "2012-10-17",
            "Statement": [
                {
                    "Effect": "Allow",
                    "Action": [
                        "s3:GetObject",
                        "s3:PutObject",
                        "s3:ListBucket"
                    ],
                    "Resource": [
                        "arn:aws:s3:::parcial-lambda3",
                        "arn:aws:s3:::parcial-lambda3/*"
                    ]
                },
                {
                    "Effect": "Allow",
                    "Action": [
                        "elasticmapreduce:*",
                        "logs:*",
                        "cloudwatch:*",
                        "ec2:*",
                        "sts:AssumeRole"
                    ],
                    "Resource": "*"
                }
            ]
        },
        "events": [
            {
                "function": "cluster.lambda_handler",  # Ruta correcta a la función Lambda
                "expression": "cron(0 2 * * ? *)"  # Ejecución diaria a las 2 AM UTC
            }
        ]
    }
}

